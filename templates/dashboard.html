<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard - EduConnect LMS</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/styles.css') }}"
    />
  </head>
  <body>
    <div class="dashboard">
      <!-- Sidebar -->
      <aside class="sidebar">
        <div class="logo">
          <img
            src="{{ url_for('static', filename='images/logo.png') }}"
            alt="Logo"
          />
        </div>
        <ul class="menu">
          <li>
            <a href="{{ url_for('dashboard') }}" class="active">Dashboard</a>
          </li>
          <li><a href="{{ url_for('studygroups') }}">Study Groups</a></li>
          <li>
            <a href="{{ url_for('discussionforums') }}">Discussion Forums</a>
          </li>
          <li><a href="{{ url_for('aitools') }}">AI Tools</a></li>
          <li><a href="{{ url_for('studysessions') }}">Study Sessions</a></li>
          <li><a href="{{ url_for('profile') }}">Profile</a></li>
          <li><a href="{{ url_for('logout') }}">Logout</a></li>
        </ul>
      </aside>

      <!-- Main Content -->
      <main class="main-content">
        <header class="header">
          <div class="header-text">
              <h1>Welcome, {{ user.name }}!</h1>
              <p>Your personalized learning dashboard.</p>
          </div>
          <div class="profile-pic">
            <a href="{{ url_for('profile') }}">
              {% if user.profile_pic %}
                  <img src="{{ user.profile_pic }}" alt="Profile Picture" width="100" height="100">
              {% else %}
                  <img src="{{ url_for('static', filename='images/default-profile-pic.png') }}" alt="Default Profile Picture" width="100" height="100">
              {% endif %}
            </a>
          </div>
      </header>

      <!-- Flash Messages -->
      {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ category }}">{{ message }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}
      
        <section class="widgets">
          <div class="widget">
            <h2><a href="{{ url_for('studygroups') }}">Study Groups</a></h2>
            <p>Collaborate with peers on specific topics and subjects.</p>
          </div>
          <div class="widget">
            <h2>
              <a href="{{ url_for('discussionforums') }}">Discussion Forums</a>
            </h2>
            <p>Ask questions and get answers from peers and lecturers.</p>
          </div>
          <div class="widget">
            <h2><a href="{{ url_for('aitools') }}">AI Tools</a></h2>
            <p>Upload and summarize study materials effortlessly.</p>
          </div>
          <div class="widget">
            <h2><a href="{{ url_for('studysessions') }}">Study Sessions</a></h2>
            <p>Schedule, track, and manage your study sessions effectively.</p>
          </div>
        </section>
      </main>
    </div>

    <script src="{{ url_for('static', filename='js/scripts.js') }}"></script>
  </body>
</html>
